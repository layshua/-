
# 兰伯特余弦定律
我们可以将光看作是光子的集合，在空间中按特定的方向传播。每个光子都载有 (光）能量。
光源每秒发出的 (光）能量称为**辐射通量 (radiant flux)**。
而单位面积上的**辐射通量密度 ( irradiance，称为辐（射)照度)** 是一种很重要的概念, 因为我们将用它来确定表面某区域所接收到的光量 (即眼睛感受到的明亮度)。
**一般来讲，我们可以认为辐照度是照射到表面某区域的光量，或者是通过空间中某假想区域的光量。**
![[Pasted image 20230509104204.png]]
光线垂直照射到表面 (即光向量 $L$ 与法向量 $n$ 相等时)的强度要大于以某个角度照射到表面的强度。试想有一小束辐射通量为 $P$ 且横截面面积为 $A$ 的光束。如果将此光束正向垂直打向表面（见图 8.10a ), 则光束照射到表面上的面积为 $A_1$，而 $A_1$ 内的辐照度为 $E = P/A_1$。现假设转动光源，使光束以某个入射角度照射到表面上 (如图 8.10b ), 则光束将覆于表面上的更大面积 $A_2$。此时, 该面积的辐照度为 $E=P/A_2$ 根据三角学可知，$A_1$ 及 $A_2$ 的关系为:
$$
\cos\theta=\frac{A_1}{A_2}\Rightarrow\frac{1}{A_2}=\frac{\cos\theta}{A_1}
$$
所以，
$$
E_2=\frac{p}{A_2}=\frac{p}{A_1}\cos\theta=E_1\cos\theta=E_1\left(\boldsymbol{n\cdot L}\right)
$$
换句话说, 面积 $A_2$ 内的辐照度就相当于将受垂直方向光照的面积 $A_1$ 内的辐照度按比例 $n·L =\cos \theta$ 进行缩放。这就是传说中的兰伯特余弦定律 ( Lambert's Cosine Law)。考虑到光线照射到表面另一侧的情况（此时，点积的结果为负值），我们用 $max$ 函数来钳制"“缩放因子”的取值范围: $f (\theta) = max (cos\theta,0)= max (L\cdot n, 0)$

# 局部光照模型

```mermaid
flowchart LR
	root[Local-illumination-model]-->Lambert
    root-->Half-Lambert
    root-->Phong
    root-->BlinnPhong
    root-->Cook-Torrance
    root-->Gourand
    root-->sss
    root-->Orev-Nayer-Lighting
    root-->Minnaert-lighting
    root-->Banded
	
```



![[c404f0cfb630ff9ac5fc30909c269875_MD5.jpg]]

![[021c6a631aad71fa57904c06acc7b364_MD5.jpg]]

![[9267fb507b68fe8f7f25bc9548902ced_MD5.jpg]]

![[5f51e5ecc0c308b8b4d58c351f8d9807_MD5.jpg]]

![[52d8e697cac4e888da910201f343b92f_MD5.jpg]]

# PBR 推导
系列文章
：[从Lambert模型到PBR模型5：推导镜面反射Fr中的分母 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/187569004)
