旋转矩阵的应用范围比较广，是姿态变换，坐标变换等的基础。本篇先介绍旋转矩阵的推导过程与助记方法。

旋转矩阵的旋转其实包含两种意思，一是在同一个坐标系下，**向量的旋转**；二是**坐标系的旋转**，使得同一向量在不同的坐标系下有不同的坐标。

# 1 向量旋转 

首先讨论二维平面坐标下的旋转，然后引申至三维。

## 1.1 平面二维旋转

如下图，XY 坐标系中，向量 OP 旋转β角度到了 OP'的位置：

![](1672813754528.png)

根据三角函数关系，可以列出向量 OP 与 OP'的坐标表示形式：

对比上面个两个式子，将第 2 个式子展开：

![](1672813754601.png)

用矩阵形式重新表示为：

![](1672813754645.png)

这就是二维旋转的基本形式，中间的矩阵即二维旋转的**旋转矩阵**，坐标中的某一向量左乘该矩阵后，即得到这个向量旋转β角后的坐标。

## 1.2 三维旋转

三维旋转可借助二维旋转来理解，由于三维空间中可以任意轴旋转，为方便分析与使用，只考虑绕 X、Y、Z 轴的旋转。

*   **绕 Z 轴**

参照上面的图，添加一个 Z 轴，则上面的二维旋转实际上就是绕 Z 轴的三维旋转

![](1672813754694.png)

照搬上面的推导公式，并添加 Z 坐标的变换关系 (实际是没有变)，然后改写成矩阵形式，红色方框即为绕 Z 轴的旋转矩阵。

![](1672813754762.png)

*   **绕 Y 轴**

绕 Y 轴旋转同理，这里直接改变坐标轴的符号表示，**注意坐标顺序要符合右手系**，我这里用颜色区分了不同的轴。最终的矩阵形式要进一步改写成 XYZ 的顺序。红色方框即为绕 Y 轴的旋转矩阵。

![](1672813754808.png)

*   **绕 X 轴**

参照绕 Y 轴的推导，可以得到绕 X 轴的结果。红色方框即为绕 X 轴的旋转矩阵。

![](1672813754839.png)

![](1672813754873.png)

## 1.3 助记

对于单位矩阵，绕哪个轴旋转，哪一列不用变，然后将二维旋转矩阵替换对应的 4 个位置，注意，绕 Y 的旋转矩阵看起来与另外两个不同，它的 - sinβ是在左下！

![](1672813754907.png)

## 1.4 注意事项

*   **反向旋转**

如果是反向旋转一个角度，推导过程类似：

![](1672813754938.png)

最终得到的旋转矩阵其实是正向旋转矩阵的**逆矩阵**，由于这个矩阵是**正交阵**，所以逆矩阵就是**转置矩阵**。

![](1672813754971.png)

*   **书写形式**

上面的向量的坐标都是按照**列**的形式书写，如果是换成**行**的形式表示，则旋转的矩阵形式被转置了一下，同时矩阵在行向量的右边进行相乘。

![](1672813755002.png)
## 1.5  罗德里格斯公式
沿任意轴旋转：

![image-20220914230035451](image-20220914230035451.png) 代表任意旋转轴

![image-20220914230027175](image-20220914230027175.png)

P54
# 2 欧拉角
![[LearnOpenGL#欧拉角]]
# 3 四元数
补


