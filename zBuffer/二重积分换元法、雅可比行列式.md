在 fft 海面模拟求浪尖泡沫区域时，需要用到雅可比行列式（见：[杨超：fft 海面模拟 (一)](https://zhuanlan.zhihu.com/p/64414956)），故温习一下。

二重积分换元法同济高数下册有讲，当时没细看证明，近来用到搜了一下，感觉下面这样推比较直观：

![[dcfa47b288ff779b3e0f287006004b2b_MD5.jpg]]

$\vec{dx}=\vec{P'Q'}=Q'-P'$

$=f(Q)-f(P)$

$=f(u+du,v)-f(u,v)$  
$=\frac{f(u+du,v)-f(u,v)}{du}du$

$=\binom{\frac{x(u+du,v)-x(u,v)}{du}}{\frac{y(u+du,v)-y(u,v)}{du}}du$  
$=\binom{\frac{\partial x}{\partial u}du}{\frac{\partial y}{\partial u}du}$  
同理可得：

$\vec{dy}=\binom{\frac{\partial x}{\partial v}dv}{\frac{\partial y}{\partial v}dv}$

所以变换后面积元

$dA=\vec{dx}\times \vec{dy}$  
$=\binom{\frac{\partial x}{\partial u}du}{\frac{\partial y}{\partial u}du}\times \binom{\frac{\partial x}{\partial v}dv}{\frac{\partial y}{\partial v}dv}$

$=\begin{vmatrix} \frac{\partial x}{\partial u} & \frac{\partial x}{\partial v}\\ \frac{\partial y}{\partial u}& \frac{\partial y}{\partial v} \end{vmatrix}dudv$

参考：

[https://ipfs.io/ipfs/QmXoypizjW3WknFiJnKLwHCnL72vedxjQkDDP1mXWo6uco/wiki/Jacobian_matrix_and_determinant.html](https://ipfs.io/ipfs/QmXoypizjW3WknFiJnKLwHCnL72vedxjQkDDP1mXWo6uco/wiki/Jacobian_matrix_and_determinant.html)

[http://www.stat.rice.edu/~dobelman/notes_papers/math/Jacobian.pdf](http://www.stat.rice.edu/~dobelman/notes_papers/math/Jacobian.pdf)

[请问二重积分的换元法中，雅克比矩阵是怎么转化成雅克比行列式的？](https://www.zhihu.com/question/274450639)